<% unless smart_listing.empty? %>
  <table class="table table-striped" style="table-layout: fixed;word-wrap: break-word;">
      <thead>
          <tr>
              <th class="col-md-3"><%= smart_listing.sortable "Code", "code" %></th>
              <th class="col-md-3"><%= smart_listing.sortable "Name", "name" %></th>
              <th class="col-md-5"><%= smart_listing.sortable "Description", "description" %></th>
              <th class="col-md-1"></th>
          </tr>
      </thead>
      <tbody>
          <% smart_listing.collection.each do |brand| %>
            <tr class="editable" data-id="<%= brand.id %>">
                <%= smart_listing.render object: brand, partial: "brands/brand", locals: {object: brand} %>
            </tr>
          <% end %>
          <% if user_signed_in? && is_admin? %>
            <%= smart_listing.item_new colspan: 4, link: new_brand_path %>
          <% end %>
      </tbody>
  </table>
  <%= smart_listing.paginate %>
<% else %>
  <% if user_signed_in? && is_admin? %>
    <table class="table table-striped" style="table-layout: fixed;word-wrap: break-word;">
        <thead id="listing-brand-thead">
            <tr>
                <th class="col-md-3"><%= smart_listing.sortable "Code", "code" %></th>
                <th class="col-md-3"><%= smart_listing.sortable "Name", "name" %></th>
                <th class="col-md-5"><%= smart_listing.sortable "Description", "description" %></th>
                <th class="col-md-1"></th>
            </tr>
        </thead>
        <tbody>
            <%= smart_listing.item_new colspan: 4, link: new_brand_path %>
        </tbody>
    </table>
    <script>
      var processId = setInterval(function () {
          if ($("#listing-brand-thead").is(":visible")) {
              clearInterval(processId);
          } else {
              $("#listing-brand-thead").show();
          }
      }, 0);
    </script>
  <% else %>
    <p class="warning">No items!</p>
  <% end %>
<% end %>