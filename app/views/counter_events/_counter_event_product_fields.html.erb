<% if action_name.eql?("edit") %>
  <% counter_event_product.prdct_code = counter_event_product.product_code %>
  <% counter_event_product.prdct_name = counter_event_product.product_name %>
<% end %>
<%= fields_for "counter_event[counter_event_warehouses_attributes][#{warehouse_id}][counter_event_products_attributes][#{counter_event_product.product_id}]", counter_event_product do |counter_event_product_fields| %>
  <% if counter_event_type.present? && counter_event_type.eql?("cash discount") %>
    <% unless counter_event_product_fields.object.new_record? %>
      <%= counter_event_product_fields.hidden_field :id, id: "cash_discount_counter_event_product_id_#{warehouse_id}_#{counter_event_product.product_id}" %>
      <%= counter_event_product_fields.hidden_field :_destroy, id: "cash_discount_counter_event_product_destroy_#{warehouse_id}_#{counter_event_product.product_id}" %>
    <% end %>
    <% warehouse_product_fields_class_name = "" %>
    <% unless @counter_event.new_record? %>
      <% warehouse_product_fields_class_name = " counter_event-products-#{warehouse_id}-fields-cash-discount" %>                                
    <% end %>
    <%= counter_event_product_fields.hidden_field :product_id, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-cash-discount#{warehouse_product_fields_class_name} counter_event-products-#{warehouse_id}-product-id-fields-cash-discount" %>
      <%= counter_event_product_fields.hidden_field :prdct_code, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-cash-discount#{warehouse_product_fields_class_name}" %>
        <%= counter_event_product_fields.hidden_field :prdct_name, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-cash-discount#{warehouse_product_fields_class_name}" %>
        <% elsif counter_event_type.present? && counter_event_type.eql?("special price") %>
          <% unless counter_event_product_fields.object.new_record? %>
            <%= counter_event_product_fields.hidden_field :id, id: "special_price_counter_event_product_id_#{warehouse_id}_#{counter_event_product.product_id}" %>
            <%= counter_event_product_fields.hidden_field :_destroy, id: "special_price_counter_event_product_destroy_#{warehouse_id}_#{counter_event_product.product_id}" %>
          <% end %>
          <% warehouse_product_fields_class_name = "" %>
          <% unless @counter_event.new_record? %>
            <% warehouse_product_fields_class_name = " counter_event-products-#{warehouse_id}-fields-special-price" %>
          <% end %>
          <%= counter_event_product_fields.hidden_field :product_id, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-special-price#{warehouse_product_fields_class_name} counter_event-products-#{warehouse_id}-product-id-fields-special-price" %>
            <%= counter_event_product_fields.hidden_field :prdct_code, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-special-price#{warehouse_product_fields_class_name}" %>
              <%= counter_event_product_fields.hidden_field :prdct_name, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-special-price#{warehouse_product_fields_class_name}" %>
              <% elsif counter_event_type.present? && counter_event_type.eql?("buy one get one") %>
                <% unless counter_event_product_fields.object.new_record? %>
                  <%= counter_event_product_fields.hidden_field :id, id: "buy_one_get_one_counter_event_product_id_#{warehouse_id}_#{counter_event_product.product_id}" %>
                  <%= counter_event_product_fields.hidden_field :_destroy, id: "buy_one_get_one_counter_event_product_destroy_#{warehouse_id}_#{counter_event_product.product_id}" %>
                <% end %>
                <% warehouse_product_fields_class_name = "" %>
                <% unless @counter_event.new_record? %>
                  <% warehouse_product_fields_class_name = " counter_event-products-#{warehouse_id}-fields-buy-one-get-one" %>
                <% end %>
                <%= counter_event_product_fields.hidden_field :product_id, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-buy-one-get-one#{warehouse_product_fields_class_name} counter_event-products-#{warehouse_id}-product-id-fields-buy-one-get-one" %>
                  <%= counter_event_product_fields.hidden_field :prdct_code, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-buy-one-get-one#{warehouse_product_fields_class_name}" %>
                    <%= counter_event_product_fields.hidden_field :prdct_name, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-buy-one-get-one#{warehouse_product_fields_class_name}" %>
                    <% elsif counter_event_type.present? && counter_event_type.eql?("gift") %>
                      <% unless counter_event_product_fields.object.new_record? %>
                        <%= counter_event_product_fields.hidden_field :id, id: "gift_counter_event_product_id_#{warehouse_id}_#{counter_event_product.product_id}" %>
                        <%= counter_event_product_fields.hidden_field :_destroy, id: "gift_counter_event_product_destroy_#{warehouse_id}_#{counter_event_product.product_id}", class: "counter_event-products-#{warehouse_id}-destroy-fields-gift" %>
                      <% end %>
                      <% warehouse_product_fields_class_name = "" %>
                      <% unless @counter_event.new_record? %>
                        <% warehouse_product_fields_class_name = " counter_event-products-#{warehouse_id}-fields-gift" %>
                      <% end %>
                      <%= counter_event_product_fields.hidden_field :product_id, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-gift#{warehouse_product_fields_class_name} counter_event-products-#{warehouse_id}-product-id-fields-gift" %>
                        <%= counter_event_product_fields.hidden_field :prdct_code, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-gift#{warehouse_product_fields_class_name}" %>
                          <%= counter_event_product_fields.hidden_field :prdct_name, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}-gift#{warehouse_product_fields_class_name}" %>
                          <% else %>
                            <% unless counter_event_product_fields.object.new_record? %>
                              <%= counter_event_product_fields.hidden_field :id %>
                              <%= counter_event_product_fields.hidden_field :_destroy %>
                            <% end %>
                            <% warehouse_product_fields_class_name = "" %>
                            <% unless @counter_event.new_record? %>
                              <% warehouse_product_fields_class_name = " counter_event-products-#{warehouse_id}-fields" %>                                
                            <% end %>
                            <%= counter_event_product_fields.hidden_field :product_id, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}#{warehouse_product_fields_class_name} counter_event-products-#{warehouse_id}-product-id-fields" %>
                              <%= counter_event_product_fields.hidden_field :prdct_code, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}#{warehouse_product_fields_class_name}" %>
                                <%= counter_event_product_fields.hidden_field :prdct_name, class: "counter_event-products-#{warehouse_id}-#{counter_event_product.product_id}#{warehouse_product_fields_class_name}" %>
                                <% end %>
                              <% end %>
